#########################################################################
# libusb
#########################################################################

TOP_LOCAL_PATH:= $(call my-dir)

# Build

LOCAL_PATH:= $(call my-dir)
include $(CLEAR_VARS)

LOCAL_MODULE_TAGS := optional

LOCAL_SRC_FILES := $(call all-subdir-java-files)

LOCAL_PACKAGE_NAME := libusb

LOCAL_JNI_SHARED_LIBRARIES := libusb

include $(BUILD_PACKAGE)

#########################################################################
# Build libusb Shared Library
#########################################################################

LOCAL_PATH:= $(LOCAL_PATH)/src/

include $(CLEAR_VARS)

# Optional tag would mean it doesn't get installed by default
LOCAL_MODULE_TAGS := optional

LOCAL_CFLAGS := -Werror

LOCAL_SRC_FILES:= os/linux_usbfs.c \
		  os/threads_posix.c \
		  core.c \
		  descriptor.c \
		  io.c \
		  sync.c

#LOCAL_C_INCLUDES:= 

#LOCAL_SHARED_LIBRARIES := 

LOCAL_MODULE := libusb

#LOCAL_ARM_MODE := arm

include $(BUILD_SHARED_LIBRARY)
